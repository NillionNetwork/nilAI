services:
  lmstudio_announcer:
    image: nilai/lmstudio-announcer:latest
    container_name: nilai-lmstudio-announcer
    restart: unless-stopped
    depends_on:
      redis:
        condition: service_healthy
    environment:
      - SVC_URL=http://host.docker.internal:1234
      - DISCOVERY_URL=redis://redis:6379
      - LMSTUDIO_SUPPORTED_FEATURES=chat_completion
    extra_hosts:
      - "host.docker.internal:host-gateway"
